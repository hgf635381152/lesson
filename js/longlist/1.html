<ul id="container"></ul>   
<script>
  const container = document.getElementById('container')
  let total = 100000;
  // for (let i = 0; i < total; i++) {
  //   let li = document.createElement('li')
  //   li.innerText = i
  //   container.appendChild(li)
  // }
  // 分页   上拉加载
  
  // let page = total / once
  // curTotal  当前剩余的总数
  function page(curTotal) {
    let once = 20;
    if (curTotal < 0) return
    let pageCount = Math.min(curTotal, once)
    for (let i = 0; i < pageCount; i++) {
      let li = document.createElement('li')
      li.innerText = Math.random()
      container.appendChild(li)
    }
    // 加载下一页
    setTimeout(() => {
      page(curTotal - pageCount)
    }, 16) // 时间分片  rAF  模拟浏览器的每一帧
  }   // 性能优化  时间分片
  page(total)
</script>